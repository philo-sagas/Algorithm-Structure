**堆**

# 结构定义

## 小根堆和大根堆

假设在各个数据记录（或元素）中存在一个能够标识数据记录（或元素）的数据项，并将依据该数据项对数据进行组织，则可称此数据项为关键码（key）或关键字。

如果有一个关键码的集合K={k<sub>0</sub>,k<sub>1</sub>,...,k<sub>n-1</sub>
}，把它的所有元素按完全二叉树的顺序存储方式存放在一个一维数组中。并且满足k<sub>i</sub>≤k<sub>2i+1</sub>且k<sub>i</sub>
≤k<sub>2i+2</sub>（或者k<sub>i</sub>≥k<sub>2i+1</sub>且k<sub>i</sub>≥k<sub>2i+2</sub>）i=0,1,...,⌊(n-2)
/2⌋则称这个集合为小根堆（或大根堆）。

## 小根堆的存储

1. 小根堆（或大根堆）存储在下标从0开始计数的一维数组中。
2. 对于堆中的下标为i的结点：
    * 若i=0，结点i是根结点，无双亲；否则结点i的双亲为结点⌊(i-1)/2⌋。
    * 若2i+1>n-1，则结点i无左子女；否则结点i的左子女为结点2i+1。
    * 若2i+2>n-1，则结点i无右子女；否则结点i的右子女为结点2i+2。
3. 当n≥2时，堆中编号最大的非叶子结点的下标为⌊(n-2)/2⌋或⌊n/2⌋-1。
